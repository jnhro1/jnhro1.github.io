---
layout: post
title:  "[ë¹„ì„ í˜•] 3. ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬"
subtitle:   "ì´ì§„íƒìƒ‰íŠ¸ë¦¬"
categories: ìë£Œêµ¬ì¡°
tags: ë¹„ì„ í˜•
comments: true
---

- ëª©ì°¨
  - [1. ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬](#)
  - [2. êµ¬í˜„í•˜ê¸°](#)


<br>

## 1. ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ (Binary Search Tree)
- í˜„ì¬ ë…¸ë“œë¥´ ê¸°ì¤€ìœ¼ë¡œ `ì™¼ìª½ì—ëŠ” ì‘ì€ ê°’, ì˜¤ë¥¸ìª½ì€ í° ê°’ì„ ì •ë ¬`í•´ ë†“ëŠ” ì´ì§„ íŠ¸ë¦¬ ê¸°ë°˜ ìë£Œ êµ¬ì¡°
- ë…¸ë“œ ì¶”ê°€ : `BinarySearchTree._insertNode()`, `BinarySearchTree.insert()`
- ë…¸íŠ¸ íƒìƒ‰ (ìµœëŒ“ê°’) : `BinarySearchTree._maxNode()`, `BinarySearchTree.max()`
- ë…¸ë“œ íƒìƒ‰ (ìµœì†Ÿê°’) : `BinarySearchTree._minNode()`, `BinarySearchTree.min()`
- ë…¸íŠ¸ íƒìƒ‰ (íŠ¹ì •ê°’) : `BinarySearchTree._searchNode()`, `BinarySearchTree.search()`
- ë…¸ë“œ ì‚­ì œ : `BinarySearchTree._findMinNode()`, `BinarySearchTree._removeNode()`, `BinarySearchTree.remove()`


<br><br>

## 2. êµ¬í˜„í•˜ê¸°

![íŠ¸ë¦¬](/assets/img/study/tree.png)<br><br>

### ì´ì§„íŠ¸ë¦¬ì™€ ê°™ì€ ë¶€ë¶„

```
// Node() : valueì™€ left, right node ì €ì¥ì„ ìœ„í•œ ìƒì„±ì
function Node(value) {
  this.value = value;
  this.left = null;
  this.right = null;
}

// BinarySearchTree() : ì‹œì‘ ë…¸ë“œì¸ root ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ìƒì„±ì
function BinarySearchTree() {
  this.root = null;
}

// _insertNode() : ì¬ê·€ë¡œ íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ë©° ë…¸ë“œ ì¶”ê°€ (ë‚´ë¶€ ì‚¬ìš©)
BinarySearchTree.prototype._insertNode = function (node, value) {
  // í˜„ì¬ê°’ê³¼ ë¹„êµ
  // ì‘ìœ¼ë©´ ì™¼ìª½, í¬ë©´ ì˜¤ë¥¸ìª½
  // ì™¼ìª½, ì˜¤ë¥¸ìª½ì— left, right pointer ë¹„ì–´ìˆë‹¤ë©´ ì¶”ê°€í•  ë…¸ë“œë¥¼ ì—°ê²°
  // ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´ í•˜ìœ„ ë…¸ë“œì—ì„œ ë‹¤ì‹œ ë¹„êµí•˜ë„ë¡ ë„˜ê²¨ì¤€ë‹¤

  if (node === null) {
    node = new Node(value);
  } else if (value < node.value) {
    //ğŸ¤” ì¬ê·€ëŠ” ì–´ë ¤ì›Œ...
    node.left = this._insertNode(node.left, value);
  } else if (value > node.value) {
    //ğŸ¤”
    node.right = this._insertNode(node.right, value);
  }

  return node;
};

// inser() : ë…¸ë“œ ì¶”ê°€
BinarySearchTree.prototype.insert = function (value) {
  this.root = this._insertNode(this.root, value);
};


// _inOrderTraverse() : ì¬ê·€ë¡œ íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ë©° ì¤‘ìœ„ ìˆœíšŒ (ë‚´ë¶€ ì‚¬ìš©)
BinarySearchTree.prototype._inOrderTraverse = function (node, callback) {
  if (node === null) {
    return;
  }

  this._inOrderTraverse(node.left, callback);
  callback(node);
  this._inOrderTraverse(node.right, callback);
};

// inOrderTraverse() : ì¤‘ìœ„ ìˆœíšŒí•˜ë©° ë…¸ë“œ ì¶œë ¥
BinarySearchTree.prototype.inOrderTraverse = function (callback) {
  this._inOrderTraverse(this.root, callback);
};


let tree = new BinarySearchTree();

tree.insert("F");
tree.insert("B");
tree.insert("A");
tree.insert("D");
tree.insert("C");
tree.insert("E");
tree.insert("G");
tree.insert("I");
tree.insert("H");

// callback
function printNode(node) {
  process.stdout.write(`${node.value} -> `);
}

console.log("---------ì¤‘ìœ„---------");
tree.inOrderTraverse(printNode);
console.log("end");


```

<br><br>

### _minNode(), min(), _maxNode(), max()

````
// _minNode() : ë°˜ë³µì ìœ¼ë¡œ ìˆœíšŒí•˜ë©° ìµœì†Ÿê°’ ë…¸ë“œ íƒìƒ‰ (ë‚´ë¶€ ì‚¬ìš©)
// treeì˜ ê°€ì¥ ì™¼ìª½ ë ë…¸ë“œê°€ ìµœì†Ÿê°’
BinarySearchTree.prototype._minNode = function(node){
  if (node === null){
    return null
  }

  while (node && node.left !== null){
    node = node.left
  }

  return node.value
}

// min() : ìµœì†Ÿê°’ ë…¸ë“œ íƒìƒ‰
BinarySearchTree.prototype.min = function(){
  return this._minNode(this.root)
}

// _maxNode() : ë°˜ë³µì ìœ¼ë¡œ ìˆœíšŒí•˜ë©° ìµœëŒ“ê°’ ë…¸ë“œ íƒìƒ‰ (ë‚´ë¶€ ì‚¬ìš©)
// treeì˜ ê°€ì¥ ì™¼ìª½ ë ë…¸ë“œê°€ ìµœì†Ÿê°’
BinarySearchTree.prototype._maxNode = function(node){
  if (node === null){
    return null
  }

  while (node && node.right !== null){
    node = node.right
  }

  return node.value
}

// max() : ìµœëŒ“ê°’ ë…¸ë“œ íƒìƒ‰
BinarySearchTree.prototype.max = function(){
  return this._maxNode(this.root)
}

let tree = new BinarySearchTree();

tree.insert("F");
tree.insert("B");
tree.insert("A");
tree.insert("D");
tree.insert("C");
tree.insert("E");
tree.insert("G");
tree.insert("I");
tree.insert("H");

console.log(tree.min()) // A
console.log(tree.max()) // I
````

<br><Br>

### search(), _searchNode()

````
// _searchNode() : ì¬ê·€ë¡œ íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ë©° ê°’ì„ ë§Œì¡±í•˜ëŠ” ë…¸ë“œ íƒìƒ‰
BinarySearchTree.prototype._searchNode = function (node, value) {
  if (node === null) {
    return false;
  }

  if (node.value === value) {
    return true;
  } else if (node.value > value) {
    return this._searchNode(node.left, value);
  } else if (node.value < value) {
    return this._searchNode(node.right, value);
  }

  return node.value;
};

// search() : value ë…¸ë“œ íƒìƒ‰
BinarySearchTree.prototype.search = function (value) {
  return this._searchNode(this.root, value);
};

let tree = new BinarySearchTree();

tree.insert("F");
tree.insert("B");
tree.insert("A");
tree.insert("D");
tree.insert("C");
tree.insert("E");
tree.insert("G");
tree.insert("I");
tree.insert("H");

console.log(tree.search("J")); // false
console.log(tree.search("I")); // true
````


<br><Br>

### remove(), _removeNode(), findMinNode()

````
// _findMinNode() : ë°˜ë³µì ìœ¼ë¡œ íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ë©° ìµœì†Ÿê°’ì„ ë³´ìœ í•œ ë…¸ë“œ íƒìƒ‰
BinarySearchTree.prototype._findMinNode = function (node) {
  while (node && node.left !== null) {
    node = node.left;
  }
  return node;
};

// _removeNode() : ì¬ê·€ë¡œ íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ë©° ê°’ì„ ë§Œì¡±í•˜ëŠ” ë…¸ë“œë¥¼ ì°¾ê³  ì‚­ì œ
BinarySearchTree.prototype._removeNode = function (node, value) {
  if (node === null) {
    return null;
  }
  if (node.value === value) {
    // case 1 : leaf node
    if (node.left === null && node.right === null) {
      node = null;
    }
    // case 2 : 1 child node
    else if (node.left === null) {
      node = node.right;
    } else if (node.right === null) {
      node = node.left;
    }
    // case 3 : 2 child node
    else {
      // ì˜¤ë¥¸ìª½ ë…¸ë“œì˜ ê°€ì¥ ì‘ì€ ê°’ì„ node ë¡œ êµì²´
      let aux = this._findMinNode(node.right);
      node.value = aux.value;
      // ğŸ¤”
      node.right = this._removeNode(node.right, aux.value);
    }
  } else if (node.value > value) {
    node.left = this._removeNode(node.left, value);
  } else if (node.value < value) {
    node.right = this._removeNode(node.right, value);
  }
  return node;
};

// remove() : ë…¸ë“œ ì‚­ì œ
BinarySearchTree.prototype.remove = function (value) {
  root = this._removeNode(this.root, value);
};

let tree = new BinarySearchTree();

tree.insert("F");
tree.insert("B");
tree.insert("A");
tree.insert("D");
tree.insert("C");
tree.insert("E");
tree.insert("G");
tree.insert("I");
tree.insert("H");

// callback
function printNode(node) {
  process.stdout.write(`${node.value} -> `);
}

// console.log("---------ì¤‘ìœ„---------");
// tree.inOrderTraverse(printNode);
// console.log("end");

tree.inOrderTraverse(printNode);
console.log("");
tree.remove("A");
tree.inOrderTraverse(printNode);
console.log("");
tree.remove("D");
tree.inOrderTraverse(printNode);
console.log("");
tree.remove("F");
tree.inOrderTraverse(printNode);

// A -> B -> C -> D -> E -> F -> G -> H -> I -> 
// B -> C -> D -> E -> F -> G -> H -> I -> 
// B -> C -> E -> F -> G -> H -> I -> 
// B -> C -> E -> G -> H -> I -> 
````
